package com.studycow.dto.openai;

import com.studycow.dto.score.ResponseScoreDto;
import com.studycow.dto.score.ScoreDto;
import com.studycow.dto.target.ScoreTargetDto;
import lombok.Data;

import java.util.ArrayList;
import java.util.List;


/**
 * Planer Prompt Engineering
 *
 * @author 박봉균
 * @since JDK17(Eclipse Temurin)
 */
@Data
public class PlannerChatRequest {
    private String model;
    private List<Message> messages;

    /**
     * 플래너 자동 생성 Prompt
     *
     * @param model GPT 모델
     * @param recentScores 최근 점수 목록(json)
     * @param startDay 시작 일자(YYYY-MM-DD)
     */
    public PlannerChatRequest(String model, List<ScoreDto> recentScores, List<ScoreTargetDto>scoreTargets, String startDay, int studyTime) {

        StringBuilder content = new StringBuilder();
        content
            .append("# 당신은 학생들의 학습 데이터를 분석하고 개인화된 수능 학습 계획을 생성하는 AI 교육 전문가입니다. 주어진 학생의 최근 점수와 목표 점수 데이터를 기반으로 수능 교육 과정에 대하여 효과적인 학습 계획을 수립해야 합니다. \n\n")
            .append("## 최근 점수 json 설명: \n")
            .append("* scoreId: 성적 고유 번호(ID) \n")
            .append("* subCode: 과목 코드 \n")
            .append("* subName: 과목 이름 \n")
            .append("* testScore: 점수(각 과목 별 만점에 가까울 수록 높은 점수)\n")
            .append("* testGrade: 등급(1~9, 1에 가까울수록 높은 점수) \n")
            .append("* testDate: 시험 일자 \n")
            .append("* scoreDetails: 오답 내역 목록 \n")
            .append("## ScoreDetails json 설명: \n")
            .append("* wrongDetailId: 오답 고유 번호(ID) \n")
            .append("* scoreId: 점수 고유 번호(ID) \n")
            .append("* catCode: 오답 세부 유형 코드 \n")
            .append("* catName: 오답 세부 유형 이름 \n")
            .append("* wrongCnt: 오답 문항 개수 \n")
            .append("## 목표 점수 json 설명: \n")
            .append("* id: 목표 고유 번호(ID)\n")
            .append("* subCode: 과목 코드 \n")
            .append("* subName: 과목 이름 \n")
            .append("* targetScore: 목표 점수(각 과목 별 만점에 가까울 수록 높은 점수) \n")
            .append("* targetGrade: 목표 등급(1~9, 1에 가까울수록 높은 점수) \n")
            .append("* subMaxScore: 과목 만점 점수 \n\n");

        content.append("## 최근 점수 입력 데이터: \n");
        // 학생의 최근 점수 데이터(10개)
        for(ScoreDto score : recentScores) {
            content.append(score.toJson()).append("\n");
        }
        content.append("## 목표 점수 입력 데이터: \n");
        // 학생의 목표 점수 데이터
        for(ScoreTargetDto scoreTarget : scoreTargets) {
            content.append(scoreTarget.toJson()).append("\n");
        }

        // 과목 코드 DB
        content
                .append("## 과목 테이블 \n")
                .append("### 각 칼럼 의미 \n")
                .append("* sub_code : 과목 코드 \n")
                .append("* sub_max_score : 과목 만점 점수(만점에 가까울수록 높은 점수, 국어/수학/영어:100, 나머지:50) \n")
                .append("* sub_name : 과목 이름 \n")
                .append("### 샘플 데이터 \n")
                .append("sub_code | sub_max_score | sub_name \n")
                .append("|----|-----|-------------| \n")
                .append("| 1  | 100 | 국어        | \n")
                .append("| 2  | 100 | 수학        | \n")
                .append("| 3  | 100 | 영어        | \n")
                .append("| 4  | 50  | 한국사      | \n")
                .append("| 5  | 50  | 생활과 윤리 | \n")
                .append("| 6  | 50  | 윤리와 사상 | \n")
                .append("| 7  | 50  | 한국지리    | \n")
                .append("| 8  | 50  | 세계지리    | \n")
                .append("| 9  | 50  | 동아시아사  | \n")
                .append("| 10 | 50  | 세계사      | \n")
                .append("| 11 | 50  | 경제        | \n")
                .append("| 12 | 50  | 정치와 법   | \n")
                .append("| 13 | 50  | 사회 문화   | \n")
                .append("| 14 | 50  | 물리학1     | \n")
                .append("| 15 | 50  | 물리학2     | \n")
                .append("| 16 | 50  | 화학1       | \n")
                .append("| 17 | 50  | 화학2       | \n")
                .append("| 18 | 50  | 생명과학1   | \n")
                .append("| 19 | 50  | 생명과학2   | \n")
                .append("| 20 | 50  | 지구과학1   | \n")
                .append("| 21 | 50  | 지구과학2   | \n\n");
//                .append("t_subject_code DB DUMP SQL은 다음과 같습니다. \n")
//                .append("```INSERT INTO `t_category` VALUES (1,1,1,'2024-07-22 10:26:01.000000','독서'),(2,1,1,'2024-07-22 10:26:01.000000','문학'),(3,1,1,'2024-07-22 10:26:01.000000','화법과 작문'),(4,1,1,'2024-07-22 10:26:01.000000','언어와 매체'),(5,1,2,'2024-07-22 10:26:01.000000','수학1'),(6,1,2,'2024-07-22 10:26:01.000000','수학2'),(7,1,2,'2024-07-22 10:26:01.000000','미적분'),(8,1,2,'2024-07-22 10:26:01.000000','기하'),(9,1,2,'2024-07-22 10:26:01.000000','확률과 통계'),(10,1,3,'2024-07-22 10:26:01.000000','듣기'),(11,1,3,'2024-07-22 10:26:01.000000','읽기'),(12,1,4,'2024-07-22 10:26:01.000000','한국사'),(13,1,5,'2024-07-22 10:26:01.000000','생활과 윤리'),(14,1,5,'2024-07-22 10:26:01.000000','윤리와 사상'),(15,1,5,'2024-07-22 10:26:01.000000','한국지리'),(16,1,5,'2024-07-22 10:26:01.000000','세계지리'),(17,1,5,'2024-07-22 10:26:01.000000','동아시아사'),(18,1,5,'2024-07-22 10:26:01.000000','세계사'),(19,1,5,'2024-07-22 10:26:01.000000','경제'),(20,1,5,'2024-07-22 10:26:01.000000','정치와 법'),(21,1,5,'2024-07-22 10:26:01.000000','사회 문화'),(22,1,6,'2024-07-22 10:26:01.000000','물리학1'),(23,1,6,'2024-07-22 10:26:01.000000','물리학2'),(24,1,6,'2024-07-22 10:26:01.000000','화학1'),(25,1,6,'2024-07-22 10:26:01.000000','화학2'),(26,1,6,'2024-07-22 10:26:01.000000','생명과학1'),(27,1,6,'2024-07-22 10:26:01.000000','생명과학2'),(28,1,6,'2024-07-22 10:26:01.000000','지구과학1'),(29,1,6,'2024-07-22 10:26:01.000000','지구과학2'),(30,1,7,'2024-07-22 10:26:01.000000','농업 기초 기술'),(31,1,7,'2024-07-22 10:26:01.000000','공업 일반'),(32,1,7,'2024-07-22 10:26:01.000000','상업 경제'),(33,1,7,'2024-07-22 10:26:01.000000','수산 해운 산업 기초'),(34,1,7,'2024-07-22 10:26:01.000000','인간 발달'),(35,1,7,'2024-07-22 10:26:01.000000','성공적인 직업생활'),(36,1,8,'2024-07-22 10:26:01.000000','독일어1'),(37,1,8,'2024-07-22 10:26:01.000000','프랑스어1'),(38,1,8,'2024-07-22 10:26:01.000000','스페인어1'),(39,1,8,'2024-07-22 10:26:01.000000','중국어1'),(40,1,8,'2024-07-22 10:26:01.000000','일본어1'),(41,1,8,'2024-07-22 10:26:01.000000','러시아어1'),(42,1,8,'2024-07-22 10:26:01.000000','아랍어1'),(43,1,8,'2024-07-22 10:26:01.000000','베트남어1'),(44,1,8,'2024-07-22 10:26:01.000000','한문1');``` \n\n");


        //문제 유형 DB
        content
                .append("## 과목별 세부 유형 테이블 \n")
                .append("과목별 세부 유형 태이블의 각 칼럼의 의미, 테이블은 다음과 같습니다. 칼럼 의미, 테이블을 잘 숙지하여 문제유형코드, 과목코드, 과목명, 문제유형명에 착오 없기 바랍니다. \n")
                .append("## 각 칼럼 의미 \n")
                .append("* cat_code : 세부 유형 코드 \n")
                .append("* sub_code: 과목 코드(과목 테이블 참조 외래키 : 반드시 일치!) \n")
                .append("* cat_name: 세부 유형 이름 \n")
                .append("## 샘플 데이터 \n")
                .append("cat_code | sub_code | cat_name \n")
                .append("|-----|----|------------------------------------------------------------------| \n")
                .append("| 1   | 1  | 문학 - 고전시가                                                  |\n")
                .append("| 2   | 1  | 문학 - 현대시                                                    |\n")
                .append("| 3   | 1  | 문학 - 고전산문                                                  |\n")
                .append("| 4   | 1  | 문학 - 극/수필                                                   |\n")
                .append("| 5   | 1  | 문학 - 현대소설                                                  |\n")
                .append("| 6   | 1  | 문학 - 갈래복합                                                  |\n")
                .append("| 7   | 1  | 독서 - 인문,예술                                                 |\n")
                .append("| 8   | 1  | 독서 - 사회,문화                                                 |\n")
                .append("| 9   | 1  | 독서 - 과학,기술                                                 |\n")
                .append("| 10  | 1  | 독서 - 주제통합                                                  |\n")
                .append("| 11  | 1  | 언어와 매체 - 언어                                               |\n")
                .append("| 12  | 1  | 언어와 매체 - 매체                                               |\n")
                .append("| 13  | 1  | 언어와 매체 - 통합                                               |\n")
                .append("| 14  | 1  | 화법과 작문 - 화법                                               |\n")
                .append("| 15  | 1  | 화법과 작문 - 작문                                               |\n")
                .append("| 16  | 1  | 화법과 작문 - 통합                                               |\n")
                .append("| 17  | 2  | 수학1 - 지수와 로그                                              |\n")
                .append("| 18  | 2  | 수학1 - 지수함수와 로그함수                                      |\n")
                .append("| 19  | 2  | 수학1 - 삼각함수                                                 |\n")
                .append("| 20  | 2  | 수학1 - 사인법칙과 코사인법칙                                    |\n")
                .append("| 21  | 2  | 수학1 - 등차수열과 등비수열                                      |\n")
                .append("| 22  | 2  | 수학1 - 수열의 합과 수학적 귀납법                                |\n")
                .append("| 23  | 2  | 수학2 - 함수의 극한                                              |\n")
                .append("| 24  | 2  | 수학2 - 함수의 연속                                              |\n")
                .append("| 25  | 2  | 수학2 - 미분계수와 도함수                                        |\n")
                .append("| 26  | 2  | 수학2 - 도함수의 활용                                            |\n")
                .append("| 27  | 2  | 수학2 - 부정적분과 정적분                                        |\n")
                .append("| 28  | 2  | 수학2 - 정적분의 활용                                            |\n")
                .append("| 29  | 2  | 미적분 - 수열의 극한                                             |\n")
                .append("| 30  | 2  | 미적분 - 급수                                                    |\n")
                .append("| 31  | 2  | 미적분 - 함수의 미분                                             |\n")
                .append("| 32  | 2  | 미적분 - 미분법                                                  |\n")
                .append("| 33  | 2  | 미적분 - 도함수의 활용                                           |\n")
                .append("| 34  | 2  | 미적분 - 적분법                                                  |\n")
                .append("| 35  | 2  | 미적분 - 정적분의 활용                                           |\n")
                .append("| 36  | 2  | 확률과 통계 - 순열                                               |\n")
                .append("| 37  | 2  | 확률과 통계 - 중복조합과 이항정리                                |\n")
                .append("| 38  | 2  | 확률과 통계 - 확률의 뜻과 활용                                   |\n")
                .append("| 39  | 2  | 확률과 통계 - 조건부확률                                         |\n")
                .append("| 40  | 2  | 확률과 통계 - 이산확률변수의 확률분포                            |\n")
                .append("| 41  | 2  | 확률과 통계 - 연속확률변수의 확률분포                            |\n")
                .append("| 42  | 2  | 확률과 통계 - 통계적 추정                                        |\n")
                .append("| 43  | 2  | 기하 - 포물선                                                    |\n")
                .append("| 44  | 2  | 기하 - 타원                                                      |\n")
                .append("| 45  | 2  | 기하 - 쌍곡선                                                    |\n")
                .append("| 46  | 2  | 기하 - 벡터의 연산                                               |\n")
                .append("| 47  | 2  | 기하 - 벡터의 내적, 직선과 원의 방정식                           |\n")
                .append("| 48  | 2  | 기하 - 공간도형                                                  |\n")
                .append("| 49  | 2  | 기하 - 공간좌표                                                  |\n")
                .append("| 50  | 3  | 글의 목적 파악                                                   |\n")
                .append("| 51  | 3  | 심경/분위기 파악                                                 |\n")
                .append("| 52  | 3  | 함축적 의미 파악                                                 |\n")
                .append("| 53  | 3  | 요지 파악                                                        |\n")
                .append("| 54  | 3  | 주장 파악                                                        |\n")
                .append("| 55  | 3  | 주제 파악                                                        |\n")
                .append("| 56  | 3  | 제목 파악                                                        |\n")
                .append("| 57  | 3  | 도표 정보 파악                                                   |\n")
                .append("| 58  | 3  | 내용 일치/불일치(설명문)                                         |\n")
                .append("| 59  | 3  | 내용 일치/불일치(실용문)                                         |\n")
                .append("| 60  | 3  | 어법 정확성 파악                                                 |\n")
                .append("| 61  | 3  | 어휘 적절성 파악                                                 |\n")
                .append("| 62  | 3  | 빈칸 추론                                                        |\n")
                .append("| 63  | 3  | 흐름에 무관한 문장 찾기                                          |\n")
                .append("| 64  | 3  | 글 순서 파악                                                     |\n")
                .append("| 65  | 3  | 문장 삽입                                                        |\n")
                .append("| 66  | 3  | 문단 요약                                                        |\n")
                .append("| 67  | 3  | 장문 독해                                                        |\n")
                .append("| 68  | 4  | 고대 국가의 정치 · 사회와 문화                                   |\n")
                .append("| 69  | 4  | 고려의 정치 · 사회와 문화                                        |\n")
                .append("| 70  | 4  | 조선 시대 정치 운영과 세계관의 변화                              |\n")
                .append("| 71  | 4  | 양반 신분제 사회와 상품 화폐 경제                                |\n")
                .append("| 72  | 4  | 흥선 대원군의 정책과 개항 이후 근대적 개혁의 추진                |\n")
                .append("| 73  | 4  | 근대 국가 수립을 위한 노력                                       |\n")
                .append("| 74  | 4  | 일본의 침략 확대와 국권 수호 운동                                |\n")
                .append("| 75  | 4  | 개항 이후 경제 · 사회 · 문화의 변화                              |\n")
                .append("| 76  | 4  | 1910~1920년대 일제의 식민지 정책과 3·1 운동 · 대한민국 임시 정부 |\n")
                .append("| 77  | 4  | 다양한 민족 운동의 전개                                          |\n")
                .append("| 78  | 4  | 사회 · 문화의 변화와 사회 운동                                   |\n")
                .append("| 79  | 4  | 전시 동원 체제와 광복을 위한 노력                                |\n")
                .append("| 80  | 4  | 대한민국 정부 수립과 6·25 전쟁                                   |\n")
                .append("| 81  | 4  | 민주화를 위한 노력과 경제 성장                                   |\n")
                .append("| 82  | 4  | 6월 민주 항쟁 이후 사회와 동아시아 평화를 위한 노력              |\n")
                .append("| 83  | 5  | 실천 윤리와 윤리 문제에 대한 탐구                                |\n")
                .append("| 84  | 5  | 윤리 문제에 대한 접근                                            |\n")
                .append("| 85  | 5  | 삶과 죽음의 윤리                                                 |\n")
                .append("| 86  | 5  | 생명 윤리                                                        |\n")
                .append("| 87  | 5  | 사랑과 성 윤리                                                   |\n")
                .append("| 88  | 5  | 직업과 청렴의 윤리                                               |\n")
                .append("| 89  | 5  | 사회 정의와 윤리                                                 |\n")
                .append("| 90  | 5  | 국가와 시민의 윤리                                               |\n")
                .append("| 91  | 5  | 과학 기술과 윤리                                                 |\n")
                .append("| 92  | 5  | 정보 사회와 윤리                                                 |\n")
                .append("| 93  | 5  | 자연과 윤리                                                      |\n")
                .append("| 94  | 5  | 예술과 대중문화 윤리                                             |\n")
                .append("| 95  | 5  | 의식주 윤리와 다문화 사회 윤리                                   |\n")
                .append("| 96  | 5  | 갈등 해결과 소통, 민족 통합의 윤리                               |\n")
                .append("| 97  | 5  | 지구촌 평화의 윤리                                               |\n")
                .append("| 98  | 6  | 인간과 윤리 사상                                                 |\n")
                .append("| 99  | 6  | 유교와 인의 윤리                                                 |\n")
                .append("| 100 | 6  | 한국 유교와 인간의 도덕적 심성                                   |\n")
                .append("| 101 | 6  | 불교와 자비 및 화합의 윤리                                       |\n")
                .append("| 102 | 6  | 도가 사상과 무위자연의 윤리                                      |\n")
                .append("| 103 | 6  | 한국과 동양 윤리 사상의 의의                                     |\n")
                .append("| 104 | 6  | 서양 윤리 사상의 연원과 덕 있는 삶                               |\n")
                .append("| 105 | 6  | 행복 추구와 신앙                                                 |\n")
                .append("| 106 | 6  | 도덕적 판단과 행동의 근거: 이성과 감정                           |\n")
                .append("| 107 | 6  | 옳고 그름의 기준: 의무와 결과                                    |\n")
                .append("| 108 | 6  | 현대의 윤리적 삶: 실존주의와 실용주의                            |\n")
                .append("| 109 | 6  | 사회사상과 이상 사회                                             |\n")
                .append("| 110 | 6  | 국가와 시민                                                      |\n")
                .append("| 111 | 6  | 민주주의와 자본주의                                              |\n")
                .append("| 112 | 6  | 평화 사상과 세계 시민 윤리                                       |\n")
                .append("| 113 | 7  | 우리나라의 위치 특성과 영토                                      |\n")
                .append("| 114 | 7  | 국토 인식의 변화와 지리 정보                                     |\n")
                .append("| 115 | 7  | 한반도의 형성과 산지 지형                                        |\n")
                .append("| 116 | 7  | 하천 지형과 해안 지형                                            |\n")
                .append("| 117 | 7  | 화산 지형과 카르스트 지형                                        |\n")
                .append("| 118 | 7  | 우리나라의 기후 특성과 주민 생활                                 |\n")
                .append("| 119 | 7  | 자연재해와 기후 변화                                             |\n")
                .append("| 120 | 7  | 촌락의 변화와 도시 발달                                          |\n")
                .append("| 121 | 7  | 도시 구조와 대도시권                                             |\n")
                .append("| 122 | 7  | 도시 계획과 지역 개발                                            |\n")
                .append("| 123 | 7  | 자원의 의미와 자원 문제                                          |\n")
                .append("| 124 | 7  | 농업의 변화와 공업 발달                                          |\n")
                .append("| 125 | 7  | 교통·통신의 발달과 서비스업의 변화                               |\n")
                .append("| 126 | 7  | 인구 분포와 인구 구조의 변화                                     |\n")
                .append("| 127 | 7  | 인구 문제와 다문화 공간의 확대                                   |\n")
                .append("| 128 | 7  | 지역의 의미와 북한 지역                                          |\n")
                .append("| 129 | 7  | 수도권과 강원 지방                                               |\n")
                .append("| 130 | 7  | 충청·호남·영남 지방과 제주도                                     |\n")
                .append("| 131 | 8  | 세계화와 지역 이해                                               |\n")
                .append("| 132 | 8  | 세계 기후 구분과 열대 기후                                       |\n")
                .append("| 133 | 8  | 온대 기후                                                        |\n")
                .append("| 134 | 8  | 건조 및 냉·한대 기후와 지형                                      |\n")
                .append("| 135 | 8  | 세계의 주요 대지형과 독특한 지형들                               |\n")
                .append("| 136 | 8  | 주요 종교의 전파와 종교 경관                                     |\n")
                .append("| 137 | 8  | 세계의 인구 변천과 인구 이주                                     |\n")
                .append("| 138 | 8  | 세계의 도시화와 세계 도시 체계                                   |\n")
                .append("| 139 | 8  | 주요 식량 자원과 국제 이동                                       |\n")
                .append("| 140 | 8  | 주요 에너지 자원과 국제 이동                                     |\n")
                .append("| 141 | 8  | 몬순 아시아와 오세아니아                                         |\n")
                .append("| 142 | 8  | 건조 아시아와 북부 아프리카                                      |\n")
                .append("| 143 | 8  | 유럽과 북부 아메리카                                             |\n")
                .append("| 144 | 8  | 사하라 이남 아프리카와 중·남부 아메리카                          |\n")
                .append("| 145 | 8  | 평화와 공존의 세계                                               |\n")
                .append("| 146 | 9  | 동아시아 선사 문화의 전개 ~ 국가의 성립과 발전                   |\n")
                .append("| 147 | 9  | 인구 이동과 정치·사회 변동                                       |\n")
                .append("| 148 | 9  | 국제 관계의 다원화                                               |\n")
                .append("| 149 | 9  | 유학과 불교                                                      |\n")
                .append("| 150 | 9  | 17세기 전후의 동아시아 전쟁                                      |\n")
                .append("| 151 | 9  | 교역망의 발달과 은 유통 ~ 사회 변동과 서민 문화                  |\n")
                .append("| 152 | 9  | 새로운 국제 질서와 근대화 운동 ~ 서양 문물의 수용                |\n")
                .append("| 153 | 9  | 제국주의 침략 전쟁과 민족 운동                                   |\n")
                .append("| 154 | 9  | 제2차 세계 대전 전후 처리와 냉전 체제                            |\n")
                .append("| 155 | 9  | 동아시아의 경제 성장과 정치 발전 ~ 갈등과 화해                   |\n")
                .append("| 156 | 10 | 인류의 출현과 선사 문화, 문명의 발생                             |\n")
                .append("| 157 | 10 | 동아시아 세계의 형성                                             |\n")
                .append("| 158 | 10 | 동아시아 세계의 발전 및 변동                                     |\n")
                .append("| 159 | 10 | 서아시아의 여러 제국과 이슬람 세계의 형성                        |\n")
                .append("| 160 | 10 | 인도의 역사와 다양한 종교·문화의 출현                            |\n")
                .append("| 161 | 10 | 고대 지중해 세계                                                 |\n")
                .append("| 162 | 10 | 유럽 세계의 형성과 변화                                          |\n")
                .append("| 163 | 10 | 시민 혁명과 산업 혁명                                            |\n")
                .append("| 164 | 10 | 제국주의와 민족 운동                                             |\n")
                .append("| 165 | 10 | 두 차례의 세계 대전                                              |\n")
                .append("| 166 | 10 | 냉전과 탈냉전, 21세기의 세계                                     |\n")
                .append("| 167 | 11 | 희소성과 합리적 선택                                             |\n")
                .append("| 168 | 11 | 경제 체제 및 시장 경제의 원리                                    |\n")
                .append("| 169 | 11 | 가계, 기업, 정부의 경제 활동                                     |\n")
                .append("| 170 | 11 | 시장 가격의 결정과 변동                                          |\n")
                .append("| 171 | 11 | 잉여와 자원 배분의 효율성                                        |\n")
                .append("| 172 | 11 | 수요와 공급의 가격 탄력성                                        |\n")
                .append("| 173 | 11 | 시장 실패와 정부 실패                                            |\n")
                .append("| 174 | 11 | 경제 순환과 경제 성장                                            |\n")
                .append("| 175 | 11 | 실업과 인플레이션                                                |\n")
                .append("| 176 | 11 | 경기 변동과 안정화 정책                                          |\n")
                .append("| 177 | 11 | 무역 원리와 무역 정책                                            |\n")
                .append("| 178 | 11 | 외환 시장과 환율                                                 |\n")
                .append("| 179 | 11 | 국제 수지                                                        |\n")
                .append("| 180 | 11 | 금융 생활과 신용                                                 |\n")
                .append("| 181 | 11 | 금융 상품과 재무 계획                                            |\n")
                .append("| 182 | 12 | 정치와 법                                                        |\n")
                .append("| 183 | 12 | 헌법의 의의와 기본 원리                                          |\n")
                .append("| 184 | 12 | 기본권의 보장과 제한                                             |\n")
                .append("| 185 | 12 | 정부 형태                                                        |\n")
                .append("| 186 | 12 | 우리나라의 국가 기관                                             |\n")
                .append("| 187 | 12 | 지방 자치                                                        |\n")
                .append("| 188 | 12 | 선거와 선거 제도                                                 |\n")
                .append("| 189 | 12 | 정치 과정과 정치 참여                                            |\n")
                .append("| 190 | 12 | 민법의 기초                                                      |\n")
                .append("| 191 | 12 | 재산 관계와 법                                                   |\n")
                .append("| 192 | 12 | 가족 관계와 법                                                   |\n")
                .append("| 193 | 12 | 형법의 이해                                                      |\n")
                .append("| 194 | 12 | 형사 절차와 인권 보장                                            |\n")
                .append("| 195 | 12 | 근로자의 권리                                                    |\n")
                .append("| 196 | 12 | 국제 관계와 국제법                                               |\n")
                .append("| 197 | 12 | 국제 문제와 국제기구                                             |\n")
                .append("| 198 | 13 | 사회·문화 현상의 이해                                            |\n")
                .append("| 199 | 13 | 사회·문화 현상의 연구 방법                                       |\n")
                .append("| 200 | 13 | 자료 수집 방법 16                                                |\n")
                .append("| 201 | 13 | 사회·문화 현상의 탐구 태도와 연구 윤리                           |\n")
                .append("| 202 | 13 | 사회적 존재로서의 인간                                           |\n")
                .append("| 203 | 13 | 사회 집단과 사회 조직                                            |\n")
                .append("| 204 | 13 | 사회 구조와 일탈 행동                                            |\n")
                .append("| 205 | 13 | 문화의 이해                                                      |\n")
                .append("| 206 | 13 | 현대 사회의 문화 양상                                            |\n")
                .append("| 207 | 13 | 문화 변동의 양상과 대응                                          |\n")
                .append("| 208 | 13 | 사회 불평등 현상의 이해                                          |\n")
                .append("| 209 | 13 | 사회 이동과 사회 계층 구조                                       |\n")
                .append("| 210 | 13 | 다양한 사회 불평등 현상                                          |\n")
                .append("| 211 | 13 | 사회 복지와 복지 제도                                            |\n")
                .append("| 212 | 13 | 사회 변동과 사회 운동                                            |\n")
                .append("| 213 | 13 | 현대 사회의 변화와 전 지구적 수준의 문제                         |\n")
                .append("| 214 | 14 | 힘과 운동                                                        |\n")
                .append("| 215 | 14 | 운동량과 충격량                                                  |\n")
                .append("| 216 | 14 | 역학적 에너지 보존                                               |\n")
                .append("| 217 | 14 | 열역학 법칙                                                      |\n")
                .append("| 218 | 14 | 시간과 공간                                                      |\n")
                .append("| 219 | 14 | 물질의 전기적 특성                                               |\n")
                .append("| 220 | 14 | 물질의 자기적 특성                                               |\n")
                .append("| 221 | 14 | 파동의 성질과 활용                                               |\n")
                .append("| 222 | 14 | 빛과 물질의 이중성                                               |\n")
                .append("| 223 | 15 | 힘과 평형                                                        |\n")
                .append("| 224 | 15 | 물체의 운동                                                      |\n")
                .append("| 225 | 15 | 일반 상대성 이론                                                 |\n")
                .append("| 226 | 15 | 일과 에너지                                                      |\n")
                .append("| 227 | 15 | 전기장과 정전기 유도                                             |\n")
                .append("| 228 | 15 | 저항의 연결과 전기 에너지                                        |\n")
                .append("| 229 | 15 | 트랜지스터와 축전기                                              |\n")
                .append("| 230 | 15 | 전류에 의한 자기장                                               |\n")
                .append("| 231 | 15 | 전자기 유도와 상호유도                                           |\n")
                .append("| 232 | 15 | 전자기파의 간섭과 회절                                           |\n")
                .append("| 233 | 15 | 도플러 효과와 전자기파의 송수신                                  |\n")
                .append("| 234 | 15 | 볼록 렌즈에 의한 상                                              |\n")
                .append("| 235 | 15 | 빛과 물질의 이중성                                               |\n")
                .append("| 236 | 15 | 불확정성 원리                                                    |\n")
                .append("| 237 | 16 | 우리 생활 속의 화학                                              |\n")
                .append("| 238 | 16 | 화학식량과 몰                                                    |\n")
                .append("| 239 | 16 | 화학 반응식과 용액의 농도                                        |\n")
                .append("| 240 | 16 | 원자의 구조                                                      |\n")
                .append("| 241 | 16 | 현대적 원자 모형과 전자 배치                                     |\n")
                .append("| 242 | 16 | 원소의 주기적 성질                                               |\n")
                .append("| 243 | 16 | 이온 결합                                                        |\n")
                .append("| 244 | 16 | 공유 결합과 결합의 극성                                          |\n")
                .append("| 245 | 16 | 분자의 구조와 성질                                               |\n")
                .append("| 246 | 16 | 동적 평형                                                        |\n")
                .append("| 247 | 16 | 산 염기와 중화 반응                                              |\n")
                .append("| 248 | 16 | 산화 환원 반응과 화학 반응에서 출입하는 열                       |\n")
                .append("| 249 | 17 | 기체                                                             |\n")
                .append("| 250 | 17 | 액체와 고체                                                      |\n")
                .append("| 251 | 17 | 용액                                                             |\n")
                .append("| 252 | 17 | 반응 엔탈피                                                      |\n")
                .append("| 253 | 17 | 화학 평형과 평형 이동                                            |\n")
                .append("| 254 | 17 | 산 염기 평형                                                     |\n")
                .append("| 255 | 17 | 반응 속도                                                        |\n")
                .append("| 256 | 17 | 반응 속도에 영향을 미치는 요인                                   |\n")
                .append("| 257 | 17 | 전기 화학과 이용                                                 |\n")
                .append("| 258 | 18 | 생명 과학의 이해                                                 |\n")
                .append("| 259 | 18 | 생명 활동과 에너지                                               |\n")
                .append("| 260 | 18 | 물질대사와 건강                                                  |\n")
                .append("| 261 | 18 | 자극의 전달                                                      |\n")
                .append("| 262 | 18 | 신경계                                                           |\n")
                .append("| 263 | 18 | 항상성                                                           |\n")
                .append("| 264 | 18 | 방어 작용                                                        |\n")
                .append("| 265 | 18 | 유전 정보와 염색체                                               |\n")
                .append("| 266 | 18 | 사람의 유전                                                      |\n")
                .append("| 267 | 18 | 사람의 유전병                                                    |\n")
                .append("| 268 | 18 | 생태계의 구성과 기능                                             |\n")
                .append("| 269 | 18 | 에너지 흐름과 물질 순환, 생물 다양성                             |\n")
                .append("| 270 | 19 | 생명 과학의 역사                                                 |\n")
                .append("| 271 | 19 | 세포의 특성                                                      |\n")
                .append("| 272 | 19 | 세포막과 효소                                                    |\n")
                .append("| 273 | 19 | 세포 호흡과 발효                                                 |\n")
                .append("| 274 | 19 | 광합성                                                           |\n")
                .append("| 275 | 19 | 유전 물질                                                        |\n")
                .append("| 276 | 19 | 유전자 발현                                                      |\n")
                .append("| 277 | 19 | 유전자 발현의 조절                                               |\n")
                .append("| 278 | 19 | 생명의 기원                                                      |\n")
                .append("| 279 | 19 | 생물의 분류와 다양성                                             |\n")
                .append("| 280 | 19 | 진화의 원리                                                      |\n")
                .append("| 281 | 19 | 생명 공학 기술과 인간 생활                                       |\n")
                .append("| 282 | 20 | 판 구조론과 대륙 분포의 변화                                     |\n")
                .append("| 283 | 20 | 판 이동의 원동력과 마그마 활동                                   |\n")
                .append("| 284 | 20 | 퇴적암과 지질 구조                                               |\n")
                .append("| 285 | 20 | 지구의 역사                                                      |\n")
                .append("| 286 | 20 | 대기의 변화                                                      |\n")
                .append("| 287 | 20 | 해양의 변화                                                      |\n")
                .append("| 288 | 20 | 대기와 해양의 상호 작용                                          |\n")
                .append("| 289 | 20 | 별의 특성                                                        |\n")
                .append("| 290 | 20 | 외계 행성계와 외계 생명체 탐사                                   |\n")
                .append("| 291 | 20 | 외부 은하와 우주 팽창                                            |\n")
                .append("| 292 | 21 | 지구의 형성과 역장                                               |\n")
                .append("| 293 | 21 | 광물                                                             |\n")
                .append("| 294 | 21 | 지구의 자원                                                      |\n")
                .append("| 295 | 21 | 한반도의 지질                                                    |\n")
                .append("| 296 | 21 | 해수의 운동과 순환                                               |\n")
                .append("| 297 | 21 | 대기 안정도                                                      |\n")
                .append("| 298 | 21 | 대기의 운동과 대기 대순환                                        |\n")
                .append("| 299 | 21 | 행성의 운동                                                      |\n")
                .append("| 300 | 21 | 우리은하와 우주의 구조                                           | \n\n");
//           .append("t_category DB DUMP SQL은 다음과 같습니다. \n")
//                .append("```INSERT INTO `t_subject_code` VALUES (1,100,1,'2024-07-22 09:47:26.000000','국어'),(2,100,1,'2024-07-22 09:47:26.000000','수학'),(3,100,1,'2024-07-22 09:47:26.000000','영어'),(4,50,1,'2024-07-22 09:47:26.000000','한국사'),(5,50,1,'2024-07-22 09:47:26.000000','사회탐구'),(6,50,1,'2024-07-22 09:47:26.000000','과학탐구'),(7,50,1,'2024-07-22 09:47:26.000000','직업탐구'),(8,50,1,'2024-07-22 09:47:26.000000','제2외국어/한문');``` \n\n")


        //PlannerCreateDto
//        content
//                .append("## PlannerCreateDto 클래스의 구조는 다음과 같습니다.\n")
//                .append("``` java \n")
//                .append("public class PlannerCreateDto { \n")
//                .append("    /** 과목 코드 */ \n")
//                .append("    private int subCode; \n")
//                .append("    /** 플랜 날짜 */ \n")
//                .append("    private LocalDate planDate; \n")
//                .append("    /** 내용 */ \n")
//                .append("    private String planContent; \n")
//                .append("    /** 계획 학습 시간 */ \n")
//                .append("    private int planStudyTime; \n")
//                .append("    /** 상태 */ \n")
//                .append("    private int planStatus; \n")
//                .append("} \n ``` \n");

        content.append("\n")
                .append("## 이 데이터를 분석하여 다음 작업을 수행하세요: \n")
                .append("1. 각 과목의 현재 성적과 목표 점수/등급 간의 차이를 파악하세요. \n")
                .append("1. 각 과목의 만점과 현재 성적 간의 차이를 파악하세요. \n")
                .append("3. 가장 개선이 필요한 과목을 식별하세요. \n")
                .append("4. 각 과목에 대한 맞춤형 학습 전략을 개발하세요. \n")
                .append("5. 우선순위를 정하고 시간 관리 제안을 포함한 종합적인 학습 계획을 수립하세요. \n\n")
                .append("## 그리고 이 분석을 바탕으로 다음 5일간의 일일 학습 계획을 JSON 배열로 생성해주세요. 각 계획은 다음 필드를 포함해야 합니다: \n")
                .append("* subCode: 과목 코드 (정수) \n")
                .append("* planDate: 계획 날짜 (YYYY-MM-DD 형식의 문자열) \n")
                .append("* planContent: 구체적인 학습 내용 (문자열) \n")
                .append("* planStudyTime: 계획된 학습 시간 (분 단위, 정수) \n")
                .append("* planStatus: 계획 상태 (0: 예정, 1: 완료, 2: 실패로 가정) \n\n")
                .append("## 주의사항: \n")
                .append("* 학생의 현재 성적과 목표를 고려하여 현실적이고 달성 가능한 계획을 제시하세요. \n")
                .append("* 각 과목에 대해 균형 잡힌 시간 배분을 하되, 개선이 더 필요한 과목에 약간 더 집중하세요. \n")
                .append("* 학습 내용은 구체적이고 실행 가능해야 합니다. \n")
                .append("* 과목별 세부 유형에 대한 계획을 제공해야 합니다. \n")
                .append("* 과목 테이블(t_subject_code)의 sub_code와 세부 유형 테이블(t_category)의 sub_code는 일치해야 합니다. \n")
                .append("* 계획은 다양한 학습 방법(예: 복습, 문제 풀이, 요약 정리 등)을 포함해야 합니다. \n\n")
                .append("## 다음 규칙을 반드시 따라주세요: \n")
                .append("1. 각 날짜(planDate)에 대해 학습 계획들의 planStudyTime의 합은 하루에 정확히 ").append(studyTime).append("분이 되어야 합니다.\n")
                .append("2. 다양한 과목에 대한 학습 계획을 생성하되, 현재 성적이 과목별 만점이나 1등급에서 가장 먼 과목에 대해서는 다른 과목보다 조금 더 많은 시간을 할당해 주세요. \n")
                .append("3. 각 과목별로 구체적인 학습 내용(예: '세부 유형 이름 : 학습 방법')을 포함해 주세요. \n\n")
                .append("## 출력 형식: \n")
                .append("{ \n")
                .append("  \"analysis\": \"데이터 분석 및 전략 설명 (문자열)\", \n")
                .append("  \"plans\": [ 계획 JSON 객체들의 배열 ] \n")
                .append("} \n\n")
                .append("## 이 출력 형식에 반드시 맞춰 분석 결과와 다음 5일간의 학습 계획을 JSON 형태로 제공해주세요. 각 객체는 콤마로 구분되어야 합니다. \n")
                .append("## 각 날짜는 ").append(startDay).append("부터 시작합니다.");

        this.model = model;
        this.messages =  new ArrayList<>();
        this.messages.add(new Message("user", content.toString()));
    }

}
